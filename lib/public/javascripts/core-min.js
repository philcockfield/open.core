/*
  Copyright 2011 Phil Cockfield. All rights reserved.
  The MIT License (MIT)
  https://github.com/philcockfield/open.core
*/
(function(){if(!this.require){var a={},b={},c=function(f,g){var h=b[f],i=d(g,f),j;if(h)return h;if(!(j=a[i]||a[i=d(i,"./index")]))throw"module '"+f+"' not found";h={id:f,exports:{}};try{b[f]=h.exports,j(h.exports,function(a){return c(a,e(i))},h);return b[f]=h.exports}catch(k){delete b[f];throw k}},d=function(a,b){var c=[],d,e;/^\.\.?(\/|$)/.test(b)?d=[a,b].join("/").split("/"):d=b.split("/");for(var f=0,g=d.length;f<g;f++)e=d[f],e==".."?c.pop():e!="."&&e!=""&&c.push(e);return c.join("/")},e=function(a){return a.split("/").slice(0,-1).join("/")};this.require=function(a){return c(a,"")},this.require.define=function(b){for(var c in b)a[c]=b[c]}}return this.require.define}).call(this)({"core/base":function(a,b,c){(function(){var a,d;d=b("./util/property"),c.exports=a=function(){function a(){}a.prototype.addProps=function(a){var b,c,e,f,g;if(a!=null){e=this,f=this.propertyStore(),b=function(b){var c,g;c=a[b],g=new d({name:b,"default":c,store:f});return e[b]=g.fn},g=[];for(c in a){if(this.hasOwnProperty(c))throw"Add property fail. ["+c+"] exists";g.push(b(c))}return g}},a.prototype.propertyStore=function(){var a,b,c;a=(b=this._)!=null?b:this._={};return(c=a.basePropertyStore)!=null?c:a.basePropertyStore={}};return a}()}).call(this)},"core/index":function(a,b,c){(function(){c.exports={title:"Open.Core (Client)",Base:b("./base"),mvc:b("./mvc/index"),util:b("./util")}}).call(this)},"core/mvc/index":function(a,b,c){(function(){c.exports={Model:b("./model"),View:b("./view"),Template:b("./template")}}).call(this)},"core/mvc/model":function(a,b,c){(function(){var a,d,e,f,g,h,i=Object.prototype.hasOwnProperty,j=function(a,b){function d(){this.constructor=a}for(var c in b)i.call(b,c)&&(a[c]=b[c]);d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype;return a},k=function(a,b){return function(){return a.apply(b,arguments)}};a=b("../base"),g=["initialize","idAttribute"],f=function(a){return a.substring(0,1)==="_"?!0:_.any(g,function(b){return b===a})?!0:!1},h=function(a,b){var c;c=function(b){var d;b==null&&(b={}),d=function(b,d,e,f){var g;g={model:a,response:b,success:d,error:e},c.trigger("complete",g);return typeof f=="function"?f(g):void 0};return c._wrapped({success:function(a,c){return d(c,!0,!1,b.success)},error:function(a,c){return d(c,!1,!0,b.error)}})},_.extend(c,Backbone.Events),c.onComplete=function(a){return c.bind("complete",a)},c._wrapped=b;return c},e=new a,d=function(){function a(b){var c,d,g;b==null&&(b={}),a.__super__.constructor.apply(this,arguments),g=this,_.extend(this,e),this.propertyStore=k(function(){var a;return a=k(function(a,b){var c;b!==void 0&&(c={},c[a]=b,g.set(c));return g.get(a)},this)},this),d=new Backbone.Model,this._={model:d},this.fetch=h(this,d.fetch),this.save=h(this,d.save),this.destroy=h(this,d.destroy);for(c in d){if(this[c]!==void 0||f(c))continue;this[c]=d[c]}this.atts=this.attributes}j(a,Backbone.Model),a.prototype.fetch=void 0,a.prototype.save=void 0,a.prototype.destroy=void 0;return a}(),c.exports=d}).call(this)},"core/mvc/template":function(a,b,c){(function(){var a;a=function(){function a(){var a,b,c;a=["constructor"];for(b in this)_(a).any(function(a){return a===b})||(c=this[b],_(c).isString()&&(this[b]=new _.template(c)))}return a}(),c.exports=a}).call(this)},"core/mvc/view":function(a,b,c){(function(){var a,d,e=Object.prototype.hasOwnProperty,f=function(a,b){function d(){this.constructor=a}for(var c in b)e.call(b,c)&&(a[c]=b[c]);d.prototype=b.prototype,a.prototype=new d,a.__super__=b.prototype;return a};a=b("../base"),c.exports=d=function(){function b(a){var c;a==null&&(a={}),b.__super__.constructor.apply(this,arguments),_.extend(this,Backbone.Events),c=new Backbone.View({tagName:a.tagName,className:a.className}),this._={view:c,atts:a},this.el=$(c.el),this.$=c.$}f(b,a),b.prototype.html=function(a){var b;b=this.el,a!=null&&b.html(a);return b.html()},b.prototype.visible=function(a){a!=null&&this.el.css("display",a?"":"none");return this.el.css("display")!=="none"};return b}()}).call(this)},"core/util/index":function(a,b,c){(function(){c.exports={Property:b("./property"),toBool:function(a){if(_.isBoolean(a))return a;if(a==null)return!1;if(_.isString(a)){a=_.trim(a).toLowerCase();return a==="true"||a==="on"||a==="yes"?!0:a==="false"||a==="off"||a==="no"?!1:null}if(_.isNumber(a))return a===1?!0:a===0?!1:null;return null}}}).call(this)},"core/util/property":function(a,b,c){(function(){var a,b=function(a,b){return function(){return a.apply(b,arguments)}};c.exports=a=function(){function a(a){var c,d;a==null&&(a={}),this.fireChange=b(this.fireChange,this),this.write=b(this.write,this),this.read=b(this.read,this),this.fn=b(this.fn,this),c=this.fn,this.name=a.name,this._={store:a.store,"default":(d=a["default"])!=null?d:a["default"]=null},_.extend(this,Backbone.Events),_.extend(c,Backbone.Events),c._parent=this}a.prototype.fn=function(a){a!==void 0&&this.write(a);return this.read()},a.prototype.read=function(){var a,b;a=this._.store,_.isFunction(a)?b=a(this.name):b=a[this.name],b===void 0&&(b=this._["default"]);return b},a.prototype.write=function(a){var b,c;if(a!==void 0){b=this.read();if(a===b)return;c=this._.store,_.isFunction(c)?c(this.name,a):c[this.name]=a;return this.fireChange(b,a)}},a.prototype.fireChange=function(a,c){var d;d=b(function(b){return b.trigger("change",{oldValue:a,newValue:c})},this),d(this);return d(this.fn)};return a}()}).call(this)}})